module.exports=[1691,a=>{"use strict";var b=a.i(46447),c=a.i(30564),d=a.i(35561),e=a.i(40695);let f=["January","February","March","April","May","June","July","August","September","October","November","December"];function g(){let[a,g]=c.useState(()=>new Date().getMonth()),[h,i]=c.useState(()=>new Date().getFullYear()),[j,k]=c.useState(null),[l,m]=c.useState(!1),[n,o]=c.useState(""),[p,q]=c.useState(!1),[r,s]=c.useState(()=>{let a={};return[{key:"fixed-asset",name:"Fixed Asset",accountCode:""},{key:"prepaid-rent",name:"Prepaid Rent",accountCode:"471 9005"},{key:"prepaid-expenses",name:"Prepaid Expenses",accountCode:"471 9002"},{key:"other-insurances",name:"Other Insurances",accountCode:"471 9001"},{key:"life-insurance",name:"Life Insurance",accountCode:"471 9004"},{key:"medical-insurance",name:"Medical Insurance",accountCode:"471 9003"}].forEach(b=>{a[b.key]=!0}),a}),[t,u]=c.useState({}),[v,w]=c.useState(!1);c.useEffect(()=>{},[a,h]),c.useEffect(()=>{w(!0)},[]),c.useEffect(()=>{},[]),c.useEffect(()=>{},[t]);let x=(a,b,c,d)=>{u(e=>({...e,[a]:e[a].map(a=>{if(a.id===b){let b={...a,[c]:d};if("amount"===c||"usdAmount"===c||"usefulMonths"===c){let a="usdAmount"===c?d:b.usdAmount,e="usefulMonths"===c?d:b.usefulMonths;b.monthlyCost=e>0?a/e:0}return b}return a})}))},y=a=>{let b={};if(!a.purchaseDate||a.usefulMonths<=0||a.monthlyCost<=0)return b;if(a.disposalDate){let c=new Date(a.disposalDate),d=new Date(a.purchaseDate),e=a=>12*(a.getFullYear()-d.getFullYear())+(a.getMonth()-d.getMonth()),f=e(c);return A.forEach(c=>{let d=e(new Date(c.year,c.month,1));if(d<0)b[c.key]=0;else if(d<f)d<a.usefulMonths?b[c.key]=a.monthlyCost:b[c.key]=0;else if(d===f){let d=Math.min(f,a.usefulMonths)*a.monthlyCost,e=a.usdAmount-d;b[c.key]=e}else b[c.key]=0}),b}let c=new Date(a.purchaseDate),d=c.getMonth(),e=c.getFullYear();return A.forEach(f=>{let g=new Date(f.year,f.month,1);if(!a.isFinished&&g>=c){let c=0,g=d,h=e;for(;h<f.year||h===f.year&&g<=f.month;)c<a.usefulMonths?b[f.key]=a.monthlyCost:b[f.key]=0,c++,++g>11&&(g=0,h++)}else a.isFinished,b[f.key]=0}),b},z=b=>{let c=y(b),d=0,e=new Date(h,a,1),f=new Date(b.purchaseDate);return!b.isFinished&&f<=e&&A.forEach(a=>{new Date(a.year,a.month,1)>=e&&c[a.key]&&c[a.key]>0&&(d+=c[a.key])}),d},A=(()=>{let b=[],c=a,d=h;for(let a=0;a<12;a++){let a=`${d}-${c}`;b.push({key:a,label:`${f[c].substring(0,3)} ${d.toString().substring(2)}`,month:c,year:d}),++c>11&&(c=0,d++)}return b})();return v?(0,b.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,b.jsx)("nav",{className:"bg-white border-b border-gray-200 px-6 py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Sola"}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(d.default,{href:"/",className:"text-gray-600 hover:text-gray-800 font-medium",children:"Allocation"}),(0,b.jsx)(d.default,{href:"/planning",className:"text-gray-600 hover:text-gray-800 font-medium",children:"Planning"}),(0,b.jsx)(d.default,{href:"/actual-allocation",className:"text-gray-600 hover:text-gray-800 font-medium",children:"Payroll Allocation"}),(0,b.jsx)(d.default,{href:"/expense-allocation",className:"text-gray-600 hover:text-gray-800 font-medium",children:"Expense Allocation"}),(0,b.jsx)(d.default,{href:"/scheduled-records",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Scheduled Records"})]}),(0,b.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,b.jsx)("select",{value:a,onChange:a=>g(Number(a.target.value)),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:f.map((a,c)=>(0,b.jsx)("option",{value:c,children:a},c))}),(0,b.jsx)("select",{value:h,onChange:a=>i(Number(a.target.value)),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:Array.from({length:10},(a,b)=>new Date().getFullYear()-5+b).map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsx)("div",{className:"flex gap-4",children:(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)("input",{type:"checkbox",checked:p,onChange:a=>q(a.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),"Show Finished"]})})]})}),(0,b.jsx)("div",{className:"p-6",children:[{key:"fixed-asset",name:"Fixed Asset",accountCode:""},{key:"prepaid-rent",name:"Prepaid Rent",accountCode:"471 9005"},{key:"prepaid-expenses",name:"Prepaid Expenses",accountCode:"471 9002"},{key:"other-insurances",name:"Other Insurances",accountCode:"471 9001"},{key:"life-insurance",name:"Life Insurance",accountCode:"471 9004"},{key:"medical-insurance",name:"Medical Insurance",accountCode:"471 9003"}].map(c=>{let d,f,g,i,j,k,l,m,n,o,q,v;return d=r[c.key]||!1,f=t[c.key]||[],g=0,i=new Date(h,a,1),f.forEach(a=>{if(a.isFinished)return;let b=y(a);A.forEach((a,c)=>{new Date(a.year,a.month,1)>=i&&(g+=b[a.key]||0)})}),j=g,k=p?f:f.filter(a=>!a.isFinished),l=f.some(a=>a.isEditing),m={usdAmount:0,monthlyCost:0},f.forEach(a=>{m.usdAmount+=a.usdAmount,m.monthlyCost+=a.monthlyCost}),A.forEach(a=>{m[a.key]=0,f.forEach(b=>{let c=y(b);m[a.key]+=c[a.key]||0})}),n=m,o={},A.forEach((a,b)=>{let c=0;f.forEach(a=>{let d=y(a);for(let a=b;a<A.length;a++){let b=A[a];c+=d[b.key]||0}}),o[a.key]=c}),q=o,(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{children:(0,b.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:[c.name,c.accountCode&&(0,b.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",c.accountCode,")"]}),(0,b.jsxs)("span",{className:"ml-2 text-sm text-blue-600 font-medium",children:["($",j.toFixed(2),")"]})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Button,{onClick:()=>{var a;let b;return a=c.key,b={id:Date.now().toString(),purchaseDate:new Date().toISOString().split("T")[0],description:"",currency:"USD",amount:0,usdAmount:0,usefulMonths:12,monthlyCost:0,disposalDate:"",isFinished:!1,isEditing:!0},void u(c=>({...c,[a]:[...c[a]||[],b]}))},variant:"outline",size:"sm",children:"+ Add Record"}),(0,b.jsx)("button",{onClick:()=>{var a;return a=c.key,void s(b=>({...b,[a]:!b[a]}))},className:"flex items-center gap-2 px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50",children:d?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"Expand"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"Collapse"]})})]})]}),!d&&(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full border-collapse border border-gray-300 text-xs",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"border border-gray-300 p-1 bg-gray-50 text-left text-xs font-semibold w-20",children:"Purchase Date"}),(0,b.jsx)("th",{className:"border border-gray-300 p-1 bg-gray-50 text-left text-xs font-semibold",children:"Description"}),(0,b.jsx)("th",{className:"border border-gray-300 p-1 bg-gray-50 text-left text-xs font-semibold w-16",children:"Currency"}),(0,b.jsx)("th",{className:"border border-gray-300 p-1 bg-gray-50 text-right text-xs font-semibold w-20",children:"Amount"}),(0,b.jsx)("th",{className:"border border-gray-300 p-1 bg-gray-50 text-right text-xs font-semibold w-20",children:"USD Amount"}),(0,b.jsx)("th",{className:"border border-gray-300 p-1 bg-gray-50 text-center text-xs font-semibold w-16",children:"Useful"}),(0,b.jsx)("th",{className:"border border-gray-300 p-1 bg-gray-50 text-right text-xs font-semibold w-20",children:"Monthly"}),(0,b.jsx)("th",{className:"border border-gray-300 p-1 bg-gray-50 text-right text-xs font-semibold w-20",children:"Carried"}),l&&(0,b.jsx)("th",{className:"border border-gray-300 p-1 bg-gray-50 text-left text-xs font-semibold w-20",children:"Disposal"}),l&&(0,b.jsx)("th",{className:"border border-gray-300 p-1 bg-gray-50 text-center text-xs font-semibold w-12",children:"Done"}),A.map(a=>(0,b.jsx)("th",{className:"border border-gray-300 p-1 bg-gray-50 text-right text-xs font-semibold whitespace-nowrap w-14",children:a.label},`${c.key}-${a.key}`)),(0,b.jsx)("th",{className:"border border-gray-300 p-1 bg-gray-50 text-center text-xs font-semibold w-16",children:"Actions"})]})}),(0,b.jsxs)("tbody",{children:[k.map(a=>{let d=y(a),f=z(a),g=a.disposalDate&&""!==a.disposalDate,h=a.isFinished;return(0,b.jsxs)("tr",{className:g?"bg-red-50":h?"bg-gray-100":"",children:[(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 w-20",children:a.isEditing?(0,b.jsx)("input",{type:"date",value:a.purchaseDate,onChange:b=>x(c.key,a.id,"purchaseDate",b.target.value),className:"w-full border-0 bg-transparent focus:outline-none focus:ring-1 focus:ring-blue-500 rounded text-xs"}):(0,b.jsx)("span",{className:"text-xs",children:a.purchaseDate})}),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5",children:a.isEditing?(0,b.jsx)("input",{type:"text",value:a.description,onChange:b=>x(c.key,a.id,"description",b.target.value),className:"w-full border-0 bg-transparent focus:outline-none focus:ring-1 focus:ring-blue-500 rounded text-xs",placeholder:"Enter description"}):(0,b.jsx)("span",{className:"text-xs",children:a.description})}),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 w-16",children:a.isEditing?(0,b.jsx)("input",{type:"text",value:a.currency,onChange:b=>x(c.key,a.id,"currency",b.target.value),className:"w-full border-0 bg-transparent focus:outline-none focus:ring-1 focus:ring-blue-500 rounded text-xs text-center",placeholder:"USD",maxLength:3}):(0,b.jsx)("span",{className:"text-xs text-center block",children:a.currency})}),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 w-20",children:a.isEditing?(0,b.jsx)("input",{type:"number",value:a.amount,onChange:b=>x(c.key,a.id,"amount",parseFloat(b.target.value)||0),className:"w-full text-right border-0 bg-transparent focus:outline-none focus:ring-1 focus:ring-blue-500 rounded text-xs",placeholder:"0.00",step:"0.01",min:"0"}):(0,b.jsx)("span",{className:"text-xs text-right block",children:a.amount.toFixed(2)})}),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 w-20",children:a.isEditing?(0,b.jsx)("input",{type:"number",value:a.usdAmount,onChange:b=>x(c.key,a.id,"usdAmount",parseFloat(b.target.value)||0),className:"w-full text-right border-0 bg-transparent focus:outline-none focus:ring-1 focus:ring-blue-500 rounded text-xs",placeholder:"0.00",step:"0.01",min:"0"}):(0,b.jsx)("span",{className:"text-xs text-right block",children:a.usdAmount.toFixed(2)})}),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 w-16",children:a.isEditing?(0,b.jsx)("input",{type:"number",value:a.usefulMonths,onChange:b=>x(c.key,a.id,"usefulMonths",parseInt(b.target.value)||1),className:"w-full text-center border-0 bg-transparent focus:outline-none focus:ring-1 focus:ring-blue-500 rounded text-xs",min:"1"}):(0,b.jsx)("span",{className:"text-xs text-center block",children:a.usefulMonths})}),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 w-20 text-right",children:(0,b.jsx)("span",{className:"text-xs",children:a.monthlyCost.toFixed(2)})}),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 w-20 text-right",children:(0,b.jsx)("span",{className:"text-xs",children:f.toFixed(2)})}),l&&(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 w-20",children:a.isEditing?(0,b.jsx)("input",{type:"date",value:a.disposalDate||"",onChange:b=>x(c.key,a.id,"disposalDate",b.target.value),className:"w-full border-0 bg-transparent focus:outline-none focus:ring-1 focus:ring-blue-500 rounded text-xs"}):(0,b.jsx)("span",{className:"text-xs",children:a.disposalDate||""})}),l&&(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 w-12 text-center",children:(0,b.jsx)("input",{type:"checkbox",checked:a.isFinished,onChange:b=>x(c.key,a.id,"isFinished",b.target.checked),className:"w-3 h-3 text-blue-600 rounded focus:ring-blue-500"})}),A.map(a=>(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-right w-14",children:(0,b.jsx)("span",{className:"text-xs",children:d[a.key]?.toFixed(2)||""})},`${c.key}-${a.key}`)),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-center w-16",children:a.isEditing?(0,b.jsxs)("div",{className:"flex gap-1 justify-center",children:[(0,b.jsx)(e.Button,{onClick:()=>{var b,d;return b=c.key,d=a.id,void u(a=>({...a,[b]:a[b].map(a=>a.id===d?{...a,isEditing:!1}:a)}))},variant:"outline",size:"sm",className:"text-green-600 hover:text-green-800 text-xs px-1 py-0.5 h-5",children:"Save"}),(0,b.jsx)(e.Button,{onClick:()=>{var b,d;return b=c.key,d=a.id,void u(a=>({...a,[b]:a[b].filter(a=>a.id!==d)}))},variant:"outline",size:"sm",className:"text-red-600 hover:text-red-800 text-xs px-1 py-0.5 h-5",children:"Del"})]}):(0,b.jsx)(e.Button,{onClick:()=>{var b,d;return b=c.key,d=a.id,void u(a=>({...a,[b]:a[b].map(a=>a.id===d?{...a,isEditing:!a.isEditing}:a)}))},variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-800 text-xs px-1 py-0.5 h-5",children:"Edit"})})]},`${c.key}-${a.id}`)}),(0,b.jsxs)("tr",{className:"bg-gray-50 font-semibold",children:[(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-xs text-center",colSpan:4,children:"Total"}),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-right text-xs w-20",children:n.usdAmount.toFixed(2)}),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-center text-xs w-16",children:"-"}),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-right text-xs w-20",children:n.monthlyCost.toFixed(2)}),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-right text-xs w-20",children:(v=0,f.forEach(a=>{v+=z(a)}),v).toFixed(2)}),l&&(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-center text-xs w-20",children:"-"}),l&&(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-center text-xs w-12",children:"-"}),A.map(a=>(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-right text-xs w-14",children:n[a.key]?.toFixed(2)||"0.00"},`total-${c.key}-${a.key}`)),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-center text-xs w-16",children:"-"})]}),(0,b.jsxs)("tr",{className:"bg-blue-50 font-semibold",children:[(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-xs text-center",colSpan:8+2*!!l,children:"Balance (Remaining)"}),A.map(a=>(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-right text-xs w-14",children:q[a.key]?.toFixed(2)||"0.00"},`balance-${c.key}-${a.key}`)),(0,b.jsx)("td",{className:"border border-gray-300 p-0.5 text-center text-xs w-16",children:"-"})]}),0===k.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:8+2*!!l+A.length,className:"border border-gray-300 p-8 text-center text-gray-500",children:p?"No records found.":"No unfinished records found. Click 'Show Finished' to see all records."})})]})]})})]},c.key)})})]}):null}a.s(["default",()=>g])}];

//# sourceMappingURL=app_scheduled-records_page_tsx_e14504c7._.js.map